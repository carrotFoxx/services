{
  consul: '{{ .CONSUL | default "consul" }}:8500',
  logging: {
    level: "INFO",
    format: "default",
    output: "stdout"
  },
  jobs: [
    {
      name: "{{.SERVICE_NAME}}",
      exec: [
        "python3",
        "/opt/app/apps/{{.SERVICE_NAME}}.py"
      ],
      restarts: "never",
      port: '{{ .SERVICE_PORT | default 8080 }}',
      health: {
        exec: "/usr/bin/curl --fail -s -o /dev/null http://localhost:{{ .SERVICE_PORT | default 8080 }}/health",
        interval: 10,
        ttl: 20,
        timeout: "3s",
      },
      tags: [
        "python",
        "buldozer-core",
        "buldozer-{{.SERVICE_NAME}}",
        "{{.SERVICE_NAME}}"
      ],
      interfaces: [
        "eth0",
        "inet",
        "inet6",
      ]
    },
  ],
  watches: [],
  control: {
    socket: "/var/run/containerpilot.sock"
  },
}
